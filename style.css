*{box-sizing:border-box}html,body{margin:0;padding:0;font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;color:#e5e7eb;background:#0b1020}
h1,h2{margin:0}
.hero{position:relative;padding:36px 16px 18px;background:radial-gradient(1200px 600px at 10% -10%,#3b82f64d,transparent),radial-gradient(1000px 500px at 100% 0,#8b5cf64d,transparent)}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,transparent,transparent 70%,#0b1020);pointer-events:none}
.hero-inner{max-width:1100px;margin:0 auto;text-align:center}
.hero h1{font-weight:800;font-size:32px;color:#f8fafc}
.hero p{color:#cbd5e1;margin-top:8px}
.stepper{max-width:900px;margin:18px auto 0;display:flex;align-items:center;gap:10px;justify-content:center}
.stepper .step{display:flex;align-items:center;gap:8px;color:#94a3b8}
.stepper .step span{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:999px;background:#1f2937;color:#cbd5e1;font-weight:700}
.stepper .step b{font-weight:600}
.stepper .step.active span{background:linear-gradient(135deg,#6366f1,#22d3ee);color:#fff}
.stepper .step.active b{color:#e5e7eb}
.stepper .divider{height:2px;width:40px;background:#1f2937;border-radius:2px}
.container{max-width:1150px;margin:0 auto;padding:0 16px 36px}
.card{background:#0f172a;border:1px solid #1f2937;border-radius:16px;padding:18px;margin-top:18px;box-shadow:0 10px 40px rgba(0,0,0,.25)}
.card.disabled{opacity:.7;filter:grayscale(.1)}
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.card h2{font-size:20px;color:#f8fafc}
.badge{background:#0b1224;border:1px solid #1e293b;border-radius:999px;padding:6px 10px;color:#93c5fd;font-weight:700;font-size:12px}
.row{display:flex;gap:16px;flex-wrap:wrap}
.col{flex:1 1 380px}
.lbl{display:block;color:#cbd5e1;margin-bottom:6px}
.filebox{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.grid3{display:grid;grid-template-columns:repeat(1,minmax(160px,1fr));gap:12px;margin-top:12px}
@media(min-width:900px){.grid3{grid-template-columns:repeat(3,1fr)}}
.grid6{display:grid;grid-template-columns:repeat(2,minmax(160px,1fr));gap:12px}
@media(min-width:900px){.grid6{grid-template-columns:repeat(6,1fr)}}
.grid2{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:900px){.grid2{grid-template-columns:1fr 1fr}}
.controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.controls label{display:flex;flex-direction:column;color:#cbd5e1;font-size:12px;gap:4px}
select,input{padding:10px;border-radius:10px;border:1px solid #334155;background:#0b1224;color:#e2e8f0;min-width:150px}
.btn{appearance:none;border:0;border-radius:12px;background:linear-gradient(135deg,#6366f1,#22d3ee);color:#fff;padding:10px 14px;cursor:pointer;font-weight:700;transition:filter .15s ease, transform .05s ease;box-shadow:0 6px 20px rgba(79,70,229,.25)}
.btn:hover{filter:brightness(1.08)}
.btn:active{transform:translateY(1px)}
.btn.ghost{background:#111827;color:#e5e7eb;border:1px solid #1f2937;box-shadow:none}
.btn:disabled{opacity:.5;cursor:not-allowed}
.hint{color:#64748b;font-size:12px;margin-left:8px}
.summary{color:#cbd5e1;font-size:14px;margin-top:8px}

/* FIX: set a fixed height on plot containers and let Chart.js compute canvas height */
.plot{position:relative;background:#0b1224;border:1px solid #1e293b;border-radius:14px;padding:8px;height:260px;overflow:hidden}
.plot.tall{height:340px}
/* Important: don't force canvas to 100% height to avoid infinite growth */
canvas{display:block;width:100%}

#tableMount{max-height:260px;overflow:auto;border:1px solid #1e293b;border-radius:12px;margin-top:12px}
table{border-collapse:collapse;width:100%;color:#cbd5e1}
th,td{border-bottom:1px solid #1e293b;padding:6px 8px;text-align:left;white-space:nowrap}
th{position:sticky;top:0;background:#0b1224;color:#e2e8f0}
.metrics{display:flex;flex-direction:column;gap:12px;background:#0b1224;border:1px solid #1e293b;border-radius:14px;padding:12px;color:#e2e8f0}
.kpi{display:flex;justify-content:space-between;align-items:center;border-bottom:1px dashed #1e293b;padding-bottom:6px}
.kpi:last-child{border-bottom:0}
.log{background:#0b1224;border:1px solid #1e293b;border-radius:12px;padding:12px;height:180px;overflow:auto;font-family:ui-monospace,SFMono-Regular,Menlo,monospace;color:#cbd5e1}
.foot{color:#64748b;text-align:center;padding:24px}
.spinner{width:18px;height:18px;border-radius:999px;border:3px solid #1f2937;border-top-color:#22d3ee;animation:spin 1s linear infinite;margin-left:10px}
.hidden{display:none}
@keyframes spin{to{transform:rotate(360deg)}}
